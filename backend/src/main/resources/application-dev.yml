spring:
  application:
    name: ecommerce-api-dev
  datasource:
    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:ecommerce_db}
    username: ${DB_USER:postgres}
    password: ${DB_PASSWORD:local_dev_password}
    driver-class-name: org.postgresql.Driver
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true

# --- SEGURANÇA (JWT) ---
# OBRIGATÓRIO: JWT_SECRET e JWT_EXPIRATION_MS devem ser configurados via ENV.
# Se ausentes, o Spring falhará com "Could not resolve placeholder".
# Para desenvolvimento, configure no seu .env ou shell:
#   export JWT_SECRET=SuaChaveSeguraComMinimo256BitsAqui_DevMode123!
#   export JWT_EXPIRATION_MS=86400000
JWT_EXPIRATION_MS: 86400000
JWT_ROLES_CLAIM: roles

# --- MEDIA / UPLOADS ---
UPLOAD_DIR: uploads
MAX_UPLOAD_MB: 10
ALLOWED_IMAGE_MIME: image/png,image/jpeg,image/webp

# --- INTEGRAÇÕES ---
# WEBHOOK_SECRET deve ser configurado via ENV.
server.address: 127.0.0.1
